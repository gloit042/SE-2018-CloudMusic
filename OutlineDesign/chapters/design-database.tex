\chapter{数据库设计}
\section{数据库环境说明}
本系统的数据系统采用PostgreSQL数据库系统。


\section{数据库的命名规则}
\begin{itemize}
	\item 不允许使用缩写
	\item 表名使用单数形式。对于有关联的表，属性名用表名+id的方式来标明这是外表的一个主键
	\item 字段名字不带前缀
\end{itemize}

\section{逻辑设计}

数据模型满足3NF\\

\section{物理设计}

\subsection{数据库产品}

数据库采用了PostgreSQL，由于暂时数据访问量不大，所以不使用分布式结构。

\subsection{实体属性、类型、精度}

\subsubsection{用户数据表设计}

用户数据表保存了用户的基本信息

\begin{table}[htbp]
\centering
\caption{用户数据表Users设计} \label{tab:client-database}
\begin{tabular}{|c|c|c|c|c|}
    \hline
    字段名 & 类型 & 大小 & 说明 & 备注 \\
    \hline
    ID & char & 64 & 用户的唯一标识符 & 主键\\
    \hline
    password & char & 256 & 用户密码的哈希 & · \\
    \hline
    salt & char & 256 & 盐 & · \\
    \hline
    phone & char & 18 & 电话号码 & 外键 \\
    \hline
    email & char & 32 & 电子邮箱 & · \\
    \hline
    description & char & 1024 & 个人自述 & · \\
    \hline
    avatar\_url & char & 256 & 头像地址 & · \\
    \hline
    last\_login & timestamp & 32 & 上次登录时间 & · \\
    \hline
\end{tabular}
\note{用户数据表Users设计}
\end{table}

\subsubsection{订单数据表设计}
\begin{table}[htbp]
\centering
\caption{订单数据表Orders设计} \label{tab:order-database}
\begin{tabular}{|c|c|c|c|c|}
    \hline
    字段名 & 类型 & 大小 & 说明 & 备注 \\
    \hline
    ID & char & 64 & 订单的唯一标识符 & 主键\\
    \hline
    user & char & 64 & 对应用户 & 外键，来自xx表 \\
    \hline
\end{tabular}
\note{订单数据表Orders设计}
\end{table}
\section{安全性设计}
备份和容灾设计。

\section{数据库管理与维护说明}
对于数据库的维护，随时对数据库中的信息加以调试和保存备份。同样需要个工作人员进行系统的分析和用户的反馈，对系统进行升级以及功能的完善。同时保证系统安全有序的运行。